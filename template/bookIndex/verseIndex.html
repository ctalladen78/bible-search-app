<ion-view title="{{vm.bookId}} {{vm.chapId}}" id="page7" class=" " ng-controller="bookSearchResultsCtrl as vm">
    <ion-content padding="true" class="has-header">
        <ion-list ng-init="vm.getVerses(vm.bookId, vm.chapId)"
        id="bookSearchResults-list5" class=" " >
            <!-- ui-sref passes parameters to next page-->
            <ion-item ng-repeat="ver in vm.verses"
            class="item item-text-wrap  item-icon-right"
            id="bookSearchResults-list-item16" style="display:table">
              <p style="display:inline-block; padding-right:10px; display:table-cell;">
                  {{ver.verse}}
              </p>
               <div style="display:table-cell">{{ver.text}}</div>
               <i ng-click="vm.openModal(ver.verse)" class="positive icon ion-android-more-vertical">
              </i>
         </ion-item>
        </ion-list>
    </ion-content>
    <!-- http://stackoverflow.com/questions/13943471/angularjs-ng-include  -->
    <!--
<div ng-include src="'/template/modals/verse-detail.html'" onload="vm.loadModal()">
</div>
-->
</ion-view>

<script type="text/ng-template" id="verse-detail.html">
<div ng-controller="verseDetailCtrl as vm">
    <!-- header bar -->
  <ion-nav-bar title="{{vm.verseDetail.bookId}} {{vm.verseDetail.chapId}} : {{vm.verseDetail.verse}}" align-title="center">
  <ion-nav-buttons  title="Edit {{vm.bookId}} {{vm.chapId}} {{vm.verse}}" side="secondary">
    <button ng-click="vm.toggleLike()">
        <i class="icon ion-android-star" ng-class={isactive:vm.verseDetail.isliked}></i>
    </button>
  </ion-nav-buttons>
  </ion-nav-bar>
  <!-- main content -->
    <ion-content padding="true" class="has-header">
            <ion-item class="item " id="verseDetail-list-item19">
                <p>{{vm.verseDetail.vid}}</p>
            </ion-item>
        <form id="editVerse-form2" class="list ">
            <label class="item item-select " id="editVerse-select3">
                <span class="input-label">Add to categories</span>
                <select ng-init="vm.getCategories()" ng-model="vm.selectedCategory"
                ng-options="cat as cat for cat in vm.categories"
                ng-change="vm.addVerseToCategory()">
                </select>
            </label>
        </form>
        <button class=" button button-positive  button-block "
        ng-click="vm.saveVerse()">Save Changes</button>
        <!-- redirect back to verse list page -->
        <a  id="editVerse-button9" ng-click="vm.cancel()"
        class=" button button-positive  button-block ">Cancel</a>

    </ion-content>
  </div>
</script>
